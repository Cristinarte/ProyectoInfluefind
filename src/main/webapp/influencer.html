<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>paginaInfluencer</title>
    <link rel="stylesheet" href="css/influencer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
	
	
	<script>
	
	document.addEventListener("DOMContentLoaded", function() {
        const urlParams = new URLSearchParams(window.location.search);
        const idInfluencer = urlParams.get('id');

        if (idInfluencer) {
            fetch(`PaginaInfluencer?id=${idInfluencer}`)
                .then(response => response.json())
                .then(data => pintarResultados([data]))
                .catch(error => console.error('Error:', error));
        }
        
        function pintarNombre(nombre) {
            document.getElementById("campoNombre").querySelector("h2").textContent = nombre;
        }


        function pintarResultados(datos) {
        	let html = '';
            if (datos.length > 0) {
                let influencer = datos[0];
                
                pintarNombre(influencer.nombre);
                
                html += '<section class="sectionSuperior" id="resultados">';
                html += '<div class="parteDatos">';
                html += '<div class="fila">';
                html += '<div class="campo"><p>Nacionalidad</p></div>';
                html += `<div class="texto"><p>${influencer.nacionalidad}</p></div>`;
                html += '</div>';
                html += '<div class="fila">';
                html += '<div class="campo"><p>Fecha de nacimiento</p></div>';
                html += `<div class="texto"><p>${influencer.fechaNacimiento}</p></div>`;
                html += '</div>';
                html += '<div class="fila">';
                html += '<div class="campo"><p>Ocupación</p></div>';
                html += `<div class="texto"><p>${influencer.ocupacion}</p></div>`;
                html += '</div>';
                html += '<div class="fila">';
                html += '<div class="campo"><p>Categoría</p></div>';
                html += `<div class="texto"><p>${influencer.categoria.nombreCategoria}</p></div>`;
                html += '</div>';
                html += '<div class="fila">';
                html += '<div class="campo"><p>Red social</p></div>';
                html += `<div class="texto" id="url"><a href="${influencer.url}" target="_blank">${influencer.url}</a></div>`;
             
                html += '</div>';
                html += '<div class="fila">';
                html += '<div class="campo"><p>Descripción</p></div>';
                html += `<div class="texto"><p>${influencer.descripcion}</p></div>`;
                html += '</div>';
                html += '</div>'; 
                html += '<div class="parteInfluencer">';
                html += '<div class="influencer">';
                html += `<div class="foto"><img src="css/fotos/${influencer.imagen}" alt="Foto del influencer"></div>`;
                html += '</div>';
                html += '</div>'; 
                html += '</section>';
            }
            document.getElementById("resultados").innerHTML = html;
        }
    });


	
	
	</script>
	



</head>
<body>

    <nav class="nav1">
        <div class="logo">
            <a href="index.html">
                <img src="img/logo2.png" alt="logo influefind">
            </a>   
        </div>
        <div class="botonesNav">
            <div class="login"><a href="login.html">Iniciar Sesión</a></div>
            <div class="registro"><a href="registro.html">Registrarse</a></div>
        </div>
    </nav>

    
    <div id="campoNombre" class="campoNombre"><h2></h2></div>
   
      <section class="sectionSuperior" id="resultados">
  
    </section>



    

    
</body>
</html>